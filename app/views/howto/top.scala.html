@import andon.utils._

@page(url: String, title: String, author: String, date: String) = {
  <li><a href="@routes.Application.eachHowto(url)">
    <i class="icon-file icon-white"></i>@title
  </a>Author: @author, Date: @date</li>
}

@views.html.common("How to") {
} {

  <h3>記事</h3>

  <h4>総合</h4>
  <ul>
    @page("susume", "行灯大賞のすすめ", "御家人", "2006?")
    @page("howtomake", "行灯の作り方", "51期の方々", "2002/7/14")
  </ul>

  <h4>構図・題材</h4>
  <ul>
    @page("daizai", "行灯オススメ題材集", "ナベ・仕事人・遊び人・仕掛人", "2003/4/28")
  </ul>

  <h4>道具</h4>
  <ul>
    @page("tools", "道具を集める・買う", "甲乙人(60期)", "2011/5/2")
  </ul>

  <h4>土台・支柱</h4>
  <ul>
    @page("lumber", "木材の最小発注量を計算", "甲乙人(60期)", "2011/5/2")
  </ul>

  <h4>針金</h4>
  <ul>
    @page("harigane", "針金", "甲乙人(60期)", "2011/6/17")
  </ul>

  <h4>電飾</h4>
  <ul>
    @page("manual_d_choki", "電飾マニュアル", "ちょき", "2007/8/1")
  </ul>

  <h4>紙貼り</h4>
  <ul>
    @page("kamihari", "紙貼り", "甲乙人(60期)", "2011/7/3")
  </ul>

  <h4>パーツ</h4>
  <ul>
    @page("face", "顔を作る", "甲乙人(60期)", "2013/7/1")
  </ul>

  <h4>SketchUp Make(旧Google SketchUp)</h4>
  <ul>
    @page("sketchup", "SketchUpについて", "甲乙人(60期)", "2013/7/1")
  </ul>

  <h4>その他</h4>
  <ul>
    @page("intro", "How toについて", "甲乙人(60期)", "2013/6/28")
    @page("offseason", "オフ期間にすべきこと", "甲乙人(60期)", "2011/2/27")
    @page("organize", "組織を作る", "甲乙人(60期)", "2011/4/2")
    @page("scheduling", "スケジュールを書く", "甲乙人(60期)", "2011/4/4")
  </ul>

  @Articles.findByType(Howto).groupBy(_.genre).map { articles =>
    <h4>@articles._1</h4>
    <ul>
    @articles._2.map { article =>
      <li>
        <a href="@routes.Application.article(article.id)"><i class="icon-file icon-white"></i>@article.title</a>
        @if(article.optAuthor == None) {
          Created by @Accounts.findNameById(article.createAccountId), Updated by @Accounts.findNameById(article.updateAccountId)
          Create: @DateUtil.dateFormat(article.createDate), Last Update: @DateUtil.dateFormat(article.updateDate)
        } else {
          Created by @article.optAuthor,
          Date @article.optDate
        }
      </li>
    }
    </ul>
  }

  <h3>資料</h3>

  @Data.all.groupBy(_.genre).map { files =>
    <h4>@files._1</h4>
    <ul>
      @files._2.map { file =>
        <li>
          <a href="@file.path"><i class="icon-download icon-white"></i>@file.name</a>
          Uploaded by
          @file.optAuthor.getOrElse(Accounts.findNameById(file.accountId)),
          Date
          @file.optDate.getOrElse(DateUtil.dateFormat(file.date))
        </li>
      }
    </ul>
  }
} {
}
