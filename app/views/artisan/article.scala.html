@(article: Article)(implicit flash: Flash)

@import andon.utils._

@common(article.title) {
} {
  <ul class="breadcrumb">
    <li><a href="@routes.Artisan.home()">Home</a> <span class="divider">/</span></li>
    <li><a href="@routes.Artisan.articles()">記事一覧</a> <span class="divider">/</span></li>
    <li class="active">記事詳細</li>
    <li class="pull-right"><a href="@routes.Artisan.logout()"><button class="btn">ログアウト</button></a></li>
  </ul>

  @flash.get("success").map { message =>
    <p class="success">
      @message
    </p>
  }

  <div class="article">
    @Conv.markdown(article.text)
  </div>

  <p class="author">Create: @Accounts.findNameById(article.createAccountId)  Date: @Util.dateFormat(article.createDate)</p>
  <p class="author">Last Update: @Accounts.findNameById(article.updateAccountId) Date: @Util.dateFormat(article.updateDate)</p>

  <a class="btn" href="@routes.Artisan.editArticle(article.id)">編集する</a>

  @if(article.articleType == Info || article.articleType == Howto) {

    <a href="#" class="delete-submit">削除する</a>

    <form class="delete-form" method="post" action="@routes.Artisan.deleteArticle(article.id)">
    </form>
  }
} {
  <h2>@article.title</h2>
}
