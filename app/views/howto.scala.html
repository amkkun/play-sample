@import andon.utils._

@views.html.common("How to") {
} {

  <h3>記事</h3>

  @Articles.findByType(Howto).groupBy(_.genre).map { articles =>
    <h4>@articles._1</h4>
    <ul>
    @articles._2.map { article =>
      <li>
        <a href="@routes.Application.article(article.id)"><i class="icon-file icon-white"></i>@article.title</a>
        @if(article.optAuthor == None) {
          Created by @Accounts.findNameById(article.createAccountId), Updated by @Accounts.findNameById(article.updateAccountId)
          Create: @DateUtil.dateFormat(article.createDate), Last Update: @DateUtil.dateFormat(article.updateDate)
        } else {
          Created by @article.optAuthor,
          Date @article.optDate
        }
      </li>
    }
    </ul>
  }

  <h3>資料</h3>

  @Data.all.groupBy(_.genre).map { files =>
    <h4>@files._1</h4>
    <ul>
      @files._2.map { file =>
        <li>
          <a href="@file.path"><i class="icon-download icon-white"></i>@file.name</a>
          Uploaded by
          @file.optAuthor.getOrElse(Accounts.findNameById(file.accountId)),
          Date
          @file.optDate.getOrElse(DateUtil.dateFormat(file.date))
        </li>
      }
    </ul>
  }
} {
}
